<!doctype html>
<html lang="en">
<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
        integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css"
        integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ=="
        crossorigin=""/>
  <link rel="stylesheet" href="css/timeliner.css" type="text/css" media="screen">

  <!-- Import leaflet.js javascript API library -->
  <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"
          integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw=="
          crossorigin=""></script>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>

  <!-- Title -->
  <title>Video Game Visualization</title>
</head>
<style>
  /* Small devices (landscape phones, 576px and up) */
  @media (min-width: 576px) {
  }

  /* Medium devices (tablets, 768px and up) */
  @media (min-width: 768px) {
  }

  /* Large devices (desktops, 992px and up) */
  @media (min-width: 992px) {
  }

  /* Extra large devices (large desktops, 1200px and up) */
  @media (min-width: 1200px) {
  }
</style>
<body onload="readFiles();">
<!-- Create a fluid container -->
<div class="container-fluid">
  <!-- Title of the Visualization -->
  <h1 class="display-1" style="text-align: center;">The History of Video Games</h1><hr>
  <!-- Timeline Container -->
  <div id="timeline" class="timeline-container">
    <div class="timeline-wrapper">
      <h2 class="timeline-time">1980</h2>
      <dl class="timeline-series">
        <dt class="timeline-event start-open" id="event01"><a>Event</a></dt>
        <dd class="timeline-event-content" id="event01EX">
          <p>Content about the event goes here...</p>
          <div id='graph1'></div>
        </dd>
        <dt class="timeline-event start-open" id="event02"><a>Another Event</a></dt>
        <dd class="timeline-event-content" id="event02EX">
          <p>Content about the other event...</p>
          <div id="graph2"></div>
        </dd>
      </dl>
    </div>
    <br class="clear">
    <div class="timeline-wrapper">
      <h2 class="timeline-time">1981</h2>
      <dl class="timeline-series">
        <dt class="timeline-event start-open" id="event03"><a>Event</a></dt>
        <dd class="timeline-event-content" id="event03EX">
          <p>Content about the event goes here...</p>
        </dd>
        <dt class="timeline-event start-open" id="event04"><a>Another Event</a></dt>
        <dd class="timeline-event-content" id="event04EX">
          <p>Content about the other event...</p>
        </dd>
      </dl>
    </div>
    <br class="clear">
    <div class="timeline-wrapper">
      <h2 class="timeline-time">1982</h2>
      <dl class="timeline-series">
        <dt class="timeline-event start-open" id="event05"><a>Event</a></dt>
        <dd class="timeline-event-content" id="event05EX">
          <p>Content about the event goes here...</p>
        </dd>
        <dt class="timeline-event start-open" id="event06"><a>Another Event</a></dt>
        <dd class="timeline-event-content" id="event06EX">
          <p>Content about the other event...</p>
        </dd>
      </dl>
    </div>
    <br class="clear">
    <div class="timeline-wrapper">
      <h2 class="timeline-time">1983</h2>
      <dl class="timeline-series">
        <dt class="timeline-event start-open" id="event07"><a>Event</a></dt>
        <dd class="timeline-event-content" id="event07EX">
          <p>Content about the event goes here...</p>
        </dd>
        <dt class="timeline-event start-open" id="event08"><a>Another Event</a></dt>
        <dd class="timeline-event-content" id="event08EX">
          <p>Content about the other event...</p>
        </dd>
      </dl>
    </div>
    <br class="clear">
  </div>
</div>
<script src="js/dataReading.js"></script>
<script>
  function doneLoadingData() {
    // Instantiate the timeline --> jQuery.
    $(document).ready(function() {
      $.timeliner({});
    });
    console.log(vgsData);
    var rank = [], name = [], platform = [], year = [], genre = [], publisher = [], NAsales = [], EUsales = [], JPsales = [], otherSales = [], globalSales = [];
    for (var i = 0; i < vgsData.length; i++) {
      var row = vgsData[i];
      rank.push(row['Rank']);
      name.push(row['Name']);
      platform.push(row['Platform']);
      year.push(row['Year']);
      genre.push(row['Genre']);
      publisher.push(row['Publisher']);
      NAsales.push(row['NA_Sales']);
      EUsales.push(row['EU_Sales']);
      JPsales.push(row['JP_Sales']);
      otherSales.push(row['Other_Sales']);
      globalSales.push(row['"Global_Sales"']);
    }
    buildGraph1();
  }

  function buildGraph1(year, NAsales, EUsales, JPsales, otherSales, globalSales){
    var NAtrace = {
      x: year,
      y: NAsales,
      name: 'NA Sales',
      type: 'bar'
    };
    var EUtrace = {
      x: year,
      y: EUsales,
      name: 'EU Sales',
      type: 'bar'
    };
    var JPtrace = {
      x: year,
      y: JPsales,
      name: 'JP Sales',
      type: 'bar'
    };
    var otherTrace = {
      x: year,
      y: otherSales,
      name: 'Other Sales',
      type: 'bar'
    };
    var globalTrace = {
      x: year,
      y: globalSales,
      name: 'Global Sales',
      type: 'bar'
    };
    var data = [NAtrace, EUtrace, JPtrace, otherTrace, globalTrace];
    Plotly.newPlot('graph1', data, {barmode: 'group'})
  }
</script>
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script
    src="https://code.jquery.com/jquery-3.3.1.js"
    integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
    crossorigin="anonymous"></script>
<script type="text/javascript" src="js/timeliner.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
        integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
        crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"
        integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
        crossorigin="anonymous"></script>
</body>
</html>
